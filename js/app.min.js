(function(){function k(a){this.a=document.getElementById(a);this.c=+a[a.length-1];this.b=this.a.dataset.soundSrc;this.a.addEventListener("click",function(a){var c=this;h&&a.isTrusted||(this.f(),-1===b?a.stopPropagation():(a.isTrusted?e.push(this.c):a.stopPropagation(),this.a.className+=" clicked",setTimeout(function(){return c.a.className=c.a.className.replace(/ clicked/,"")},500)))}.bind(this));this.a.addEventListener("mouseover",function(){/ clicked/.test(this.a.className)||(this.a.className+=" clicked")}.bind(this));
this.a.addEventListener("mouseout",function(){this.a.className=this.a.className.replace(/ clicked/,"")}.bind(this))}function p(){e=[];var a=0;setTimeout(function(){return c.innerHTML="You win!"},1E3*a++);l(f[b])}function l(a){h=!0;var d=0;setTimeout(function(){return c.innerHTML="Level "+(b+1)},1E3*d++);setTimeout(function(){return c.innerHTML="Ready?"},1E3*d++);setTimeout(function(){return c.innerHTML="Begin!"},1E3*d++);setTimeout(function(){c.innerHTML="Simon says";for(var b=0;b<a.length;b++)setTimeout(function(a){return m[a].a.click()},
1E3*b,a[b]-1)},1E3*d);d+=a.length;setTimeout(function(){c.innerHTML="turns "+(f[b].length-e.length);h=!1},1E3*d++)}function q(){document.getElementById("mistake-sound").play();var a=0;setTimeout(function(){c.innerHTML="You lose";b=-1},1E3*a++);a+=3;setTimeout(function(){return c.innerHTML="Press To Start"},1E3*a++)}k.prototype.f=function(){var a=document.createElement("audio");a.src=this.b;a.addEventListener("ended",function(){document.body.removeChild(this)});document.body.appendChild(a);a.play()};
for(var f=[],d=1;10>=d;d++){for(var g=[],n=0;n<d;n++)g.push(Math.floor(3*Math.random()+1));f.push(g)}var c=document.getElementById("output");d=document.getElementsByClassName("button");var m=[];for(g=0;g<d.length;g++)m.push(new k(d[g].id));var b=-1,h=!1,e=[];document.getElementById("game-window").addEventListener("click",function(){if(!h){-1===b&&(b=0,l(f[b]));var a=e[e.length-1]===f[b][e.length-1];e.length===f[b].length?(b++,f.length===b?(document.getElementById("victory-sound").play(),c.innerHTML=
"You won Simon!",c.innerHTML+="\nPress to play again",b=-1,e=[]):p()):a?c.innerHTML="turns "+(f[b].length-e.length):a||(q(),e=[])}})})();
